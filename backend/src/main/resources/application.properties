app.version=@project.version@
server.port=${API_SERVER_PORT:8080}
spring.profiles.active=@activeProfile@
#server.servlet.context-path=/api
# true if we should use the in-memory repositories, otherwise the Spring Data JDBC ones are used
resulter.repository.inmemory=false
resulter.media-file-path=${RESULTER_MEDIA_FILE_PATH}
resulter.media-file-path-thumbnails=${RESULTER_MEDIA_FILE_PATH_THUMBNAILS}
resulter.media-file-thumbnails-size=100
spring.devtools.add-properties=false
logging.level.root=${RESULTER_LOG_LEVEL:WARN}
logging.level.org.springframework.jdbc.core.JdbcTemplate=WARN
logging.level.org.springframework.jdbc.core.StatementCreatorUtils=WARN
logging.level.org.springframework.jdbc.core=WARN
openapi.config.title=Resulter API
openapi.config.description=Resulter REST-API
openapi.config.version=4.5.1
openapi.config.contact.name=${OPENAPI_CONFIG_CONTACT_NAME}
openapi.config.contact.email=${OPENAPI_CONFIG_CONTACT_EMAIL}
spring.security.oauth2.resourceserver.jwt.issuer-uri=${API_OAUTH2_RESOURCE_SERVER_JWT_ISSUER_URI}
spring.security.oauth2.resourceserver.jwt.jwk-set-uri=${API_OAUTH2_RESOURCE_SERVER_JWT_JWK_SET_URI}
cors.allowed-origins=${API_CORS_ALLOWED_ORIGINS}
resulter.settings.api-token.client-audience=${RESULTER_SETTINGS_API_TOKEN_CLIENT_AUDIENCE:resulter-api}
management.endpoints.access.default=none
management.endpoint.health.access=read_only
management.endpoint.health.show-details=when_authorized
management.endpoint.info.access=read_only
management.endpoint.prometheus.access=read_only
management.endpoints.web.exposure.exclude=*
management.endpoints.jmx.exposure.exclude=*
security.prometheus.api-token=${PROMETHEUS_API_TOKEN}
spring.data.web.pageable.max-page-size=5000
spring.servlet.multipart.max-file-size=20MB
spring.servlet.multipart.max-request-size=20MB
# OAuth2 Client Configuration (BFF)
spring.security.oauth2.client.registration.keycloak.client-id=${BFF_OAUTH2_CLIENT_ID:resulter-bff}
spring.security.oauth2.client.registration.keycloak.client-secret=${BFF_OAUTH2_CLIENT_SECRET}
spring.security.oauth2.client.registration.keycloak.scope=openid,profile,email
spring.security.oauth2.client.registration.keycloak.authorization-grant-type=authorization_code
spring.security.oauth2.client.registration.keycloak.redirect-uri={baseUrl}/login/oauth2/code/{registrationId}
spring.security.oauth2.client.provider.keycloak.authorization-uri=${API_OAUTH2_RESOURCE_SERVER_JWT_ISSUER_URI}/protocol/openid-connect/auth
spring.security.oauth2.client.provider.keycloak.token-uri=${API_OAUTH2_RESOURCE_SERVER_JWT_ISSUER_URI}/protocol/openid-connect/token
spring.security.oauth2.client.provider.keycloak.user-info-uri=${API_OAUTH2_RESOURCE_SERVER_JWT_ISSUER_URI}/protocol/openid-connect/userinfo
spring.security.oauth2.client.provider.keycloak.jwk-set-uri=${API_OAUTH2_RESOURCE_SERVER_JWT_JWK_SET_URI}
spring.security.oauth2.client.provider.keycloak.user-name-attribute=preferred_username
# Session configuration
spring.session.jdbc.initialize-schema=never
spring.session.jdbc.table-name=spring_session
spring.session.timeout=3600s
server.servlet.session.cookie.http-only=true
server.servlet.session.cookie.secure=true
server.servlet.session.cookie.same-site=Lax
server.servlet.session.cookie.name=RESULTER_SESSION
# BFF Frontend URL for post-login redirect
bff.frontend.url=${BFF_FRONTEND_URL:http://localhost:5173}
